{"version":3,"file":"react-rating.umd.js","sources":["../src/utils/style.js","../src/RatingSymbol.js","../src/Rating.js","../src/utils/noop.js","../src/RatingAPILayer.js"],"sourcesContent":["var style = {\n  display: 'inline-block',\n  borderRadius: '50%',\n  border: '5px double white',\n  width: 30,\n  height: 30\n};\n\nexport default {\n  empty: {\n    ...style,\n    backgroundColor: '#ccc'\n  },\n  full: {\n    ...style,\n    backgroundColor: 'black'\n  },\n  placeholder: {\n    ...style,\n    backgroundColor: 'red'\n  }\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\n// Return the corresponding React node for an icon.\nconst _iconNode = (icon) => {\n  // If it is already a React Element just return it.\n  if (React.isValidElement(icon)) {\n    return icon;\n  }\n  // If it is an object, try to use it as a CSS style object.\n  if (typeof icon === 'object' && icon !== null) {\n    return <span style={icon} />;\n  }\n  // If it is a string, use it as class names.\n  if (Object.prototype.toString.call(icon) === '[object String]') {\n    return <span className={icon} />;\n  }\n};\n\nclass RatingSymbol extends React.PureComponent {\n  render() {\n    const {\n      index,\n      inactiveIcon,\n      activeIcon,\n      percent,\n      direction,\n      readonly,\n      onClick,\n      onMouseMove,\n      onTouchEnd\n    } = this.props;\n    const backgroundNode = _iconNode(inactiveIcon);\n    const showbgIcon = percent < 100;\n    const bgIconContainerStyle = showbgIcon\n      ? {}\n      : {\n          visibility: 'hidden'\n        };\n    const iconNode = _iconNode(activeIcon);\n    const iconContainerStyle = {\n      display: 'inline-block',\n      position: 'absolute',\n      overflow: 'hidden',\n      top: 0,\n      [direction === 'rtl' ? 'right' : 'left']: 0,\n      width: `${percent}%`\n    };\n    const style = {\n      cursor: !readonly ? 'pointer' : 'inherit',\n      display: 'inline-block',\n      position: 'relative'\n    };\n\n    function handleMouseMove(e) {\n      if (onMouseMove) {\n        onMouseMove(index, e);\n      }\n    }\n\n    function handleMouseClick(e) {\n      if (onClick) {\n        // [Supporting both TouchEvent and MouseEvent](https://developer.mozilla.org/en-US/docs/Web/API/Touch_events/Supporting_both_TouchEvent_and_MouseEvent)\n        // We must prevent firing click event twice on touch devices.\n        e.preventDefault();\n        onClick(index, e);\n      }\n    }\n\n    function handleTouchEnd(e) {\n      if (onTouchEnd) {\n        onTouchEnd(index, e);\n      }\n    }\n\n    return (\n      <span\n        style={style}\n        onClick={handleMouseClick}\n        onMouseMove={handleMouseMove}\n        onTouchMove={handleMouseMove}\n        onTouchEnd={handleTouchEnd}\n      >\n        <span style={bgIconContainerStyle}>\n          {backgroundNode}\n        </span>\n        <span style={iconContainerStyle}>\n          {iconNode}\n        </span>\n      </span>\n    );\n  }\n}\n\n// Define propTypes only in development. They will be void in production.\nRatingSymbol.propTypes = typeof __DEV__ !== 'undefined' && __DEV__ && {\n  index: PropTypes.number.isRequired,\n  readonly: PropTypes.bool.isRequired,\n  inactiveIcon: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.object,\n    PropTypes.element\n  ]).isRequired,\n  activeIcon: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.object,\n    PropTypes.element\n  ]).isRequired,\n  percent: PropTypes.number.isRequired,\n  direction: PropTypes.string.isRequired,\n  onClick: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onTouchMove: PropTypes.func,\n  onTouchEnd: PropTypes.func\n};\n\nexport default RatingSymbol;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Symbol from './RatingSymbol';\n\nclass Rating extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      // Indicates the value that is displayed to the user in the form of symbols.\n      // It can be either 0 (for no displayed symbols) or (0, end]\n      displayValue: this.props.value,\n      // Indicates if the user is currently hovering over the rating element\n      interacting: false\n    };\n    this.onMouseLeave = this.onMouseLeave.bind(this);\n    this.symbolMouseMove = this.symbolMouseMove.bind(this);\n    this.symbolClick = this.symbolClick.bind(this);\n    this.symbolEnd = this.symbolEnd.bind(this);\n  }\n\n  // NOTE: This callback is a little bit fragile. Needs some \"care\" because\n  // it relies on brittle state kept with different props and state\n  // combinations to try to figure out from where we are coming, I mean, what\n  // caused this update.\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.value !== prevProps.value) {\n      this.setState({\n        displayValue: this.props.value !== prevProps.value ? this.props.value : prevState.displayValue\n      });\n    }\n\n    // When hover ends, call this.props.onHover with no value.\n    if (prevState.interacting && !this.state.interacting) {\n      return this.props.onHover();\n    }\n\n    // When hover over.\n    // Hover in should only be emitted while we are hovering (interacting),\n    // unless we changed the value, usually originated by an onClick event.\n    // We do not want to emit a hover in event again on the clicked\n    // symbol.\n    if (this.state.interacting && prevProps.value == this.props.value) {\n      this.props.onHover(this.state.displayValue);\n    }\n  }\n\n  symbolEnd(symbolIndex, event) {\n    // Do not raise the click event on quiet mode when a touch end is received.\n    // On quiet mode the touch end event only notifies that we have left the\n    // symbol. We wait for the actual click event to call the symbolClick.\n    // On not quiet mode we simulate the click event on touch end and we just\n    // prevent the real on click event to be raised.\n    // NOTE: I know how we manage click events on touch devices is a little bit\n    // weird because we do not notify the starting value that was clicked but\n    // the last (touched) value.\n    if (!this.props.quiet) {\n      this.symbolClick(symbolIndex, event);\n      event.preventDefault();\n    }\n    // On touch end we are \"leaving\" the symbol.\n    this.onMouseLeave();\n  }\n\n  symbolClick(symbolIndex, event) {\n    const value = this.calculateDisplayValue(symbolIndex, event);\n    this.props.onClick(value, event);\n  }\n\n  symbolMouseMove(symbolIndex, event) {\n    const value = this.calculateDisplayValue(symbolIndex, event);\n    // This call should cause an update only if the state changes.\n    // Mainly the first time the mouse enters and whenever the value changes.\n    // So DidComponentUpdate is NOT called for every mouse movement.\n    this.setState({\n      interacting: !this.props.readonly,\n      displayValue: value\n    });\n  }\n\n  onMouseLeave() {\n    this.setState({\n      displayValue: this.props.value,\n      interacting: false\n    });\n  }\n\n  calculateDisplayValue(symbolIndex, event) {\n    const percentage = this.calculateHoverPercentage(event);\n    // Get the closest top fraction.\n    const fraction = Math.ceil(percentage % 1 * this.props.fractions) / this.props.fractions;\n    // Truncate decimal trying to avoid float precission issues.\n    const precision = 10 ** 3;\n    const displayValue =\n      symbolIndex + (Math.floor(percentage) + Math.floor(fraction * precision) / precision);\n    // ensure the returned value is greater than 0 and lower than totalSymbols\n    return displayValue > 0 ? displayValue > this.props.totalSymbols ? this.props.totalSymbols : displayValue : 1 / this.props.fractions;\n  }\n\n  calculateHoverPercentage(event) {\n    const clientX = event.nativeEvent.type.indexOf(\"touch\") > -1\n      ? event.nativeEvent.type.indexOf(\"touchend\") > -1\n        ? event.changedTouches[0].clientX\n        : event.touches[0].clientX\n      : event.clientX;\n\n    const targetRect = event.target.getBoundingClientRect();\n    const delta = this.props.direction === 'rtl'\n      ? targetRect.right - clientX\n      : clientX - targetRect.left;\n\n    // Returning 0 if the delta is negative solves the flickering issue\n    return delta < 0 ? 0 : delta / targetRect.width;\n  }\n\n  render() {\n    const {\n      readonly,\n      quiet,\n      totalSymbols,\n      value,\n      placeholderValue,\n      direction,\n      emptySymbol,\n      fullSymbol,\n      placeholderSymbol,\n      className,\n      id,\n      style,\n      tabIndex\n    } = this.props;\n    const { displayValue, interacting } = this.state;\n    const symbolNodes = [];\n    const empty = [].concat(emptySymbol);\n    const full = [].concat(fullSymbol);\n    const placeholder = [].concat(placeholderSymbol);\n    const shouldDisplayPlaceholder =\n      placeholderValue !== 0 &&\n      value === 0 &&\n      !interacting;\n\n    // The value that will be used as base for calculating how to render the symbols\n    let renderedValue;\n    if (shouldDisplayPlaceholder) {\n      renderedValue = placeholderValue;\n    } else {\n      renderedValue = quiet ? value : displayValue;\n    }\n\n    // The amount of full symbols\n    const fullSymbols = Math.floor(renderedValue);\n\n    for (let i = 0; i < totalSymbols; i++) {\n      let percent;\n      // Calculate each symbol's fullness percentage\n      if (i - fullSymbols < 0) {\n        percent = 100;\n      } else if (i - fullSymbols === 0) {\n        percent = (renderedValue - i) * 100;\n      } else {\n        percent = 0;\n      }\n\n      symbolNodes.push(\n        <Symbol\n          key={i}\n          index={i}\n          readonly={readonly}\n          inactiveIcon={empty[i % empty.length]}\n          activeIcon={\n            shouldDisplayPlaceholder ? placeholder[i % full.length] : full[i % full.length]\n          }\n          percent={percent}\n          direction={direction}\n          {...(!readonly && {\n            onClick: this.symbolClick,\n            onMouseMove: this.symbolMouseMove,\n            onTouchMove: this.symbolMouseMove,\n            onTouchEnd: this.symbolEnd\n          })}\n        />\n      );\n    }\n\n    return (\n      <span\n        id={id}\n        style={{...style, display: 'inline-block', direction }}\n        className={className}\n        tabIndex={tabIndex}\n        aria-label={this.props['aria-label']}\n        {...(!readonly && {\n          onMouseLeave: this.onMouseLeave\n        })}\n      >\n        {symbolNodes}\n      </span>\n    );\n  }\n}\n\n// Define propTypes only in development.\nRating.propTypes = typeof __DEV__ !== 'undefined' && __DEV__ && {\n  totalSymbols: PropTypes.number.isRequired,\n  value: PropTypes.number.isRequired, // Always >= 0\n  placeholderValue: PropTypes.number.isRequired,\n  readonly: PropTypes.bool.isRequired,\n  quiet: PropTypes.bool.isRequired,\n  fractions: PropTypes.number.isRequired,\n  direction: PropTypes.string.isRequired,\n  emptySymbol: PropTypes.oneOfType([\n    // Array of class names and/or style objects.\n    PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.object, PropTypes.element])),\n    // Class names.\n    PropTypes.string,\n    // Style objects.\n    PropTypes.object,\n    // React element\n    PropTypes.element\n  ]).isRequired,\n  fullSymbol: PropTypes.oneOfType([\n    // Array of class names and/or style objects.\n    PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.object, PropTypes.element])),\n    // Class names.\n    PropTypes.string,\n    // Style objects.\n    PropTypes.object,\n    // React element\n    PropTypes.element\n  ]).isRequired,\n  placeholderSymbol: PropTypes.oneOfType([\n    // Array of class names and/or style objects.\n    PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.object, PropTypes.element])),\n    // Class names.\n    PropTypes.string,\n    // Style objects.\n    PropTypes.object,\n    // React element\n    PropTypes.element\n  ]),\n  onClick: PropTypes.func.isRequired,\n  onHover: PropTypes.func.isRequired\n};\n\nexport default Rating;\n","function noop() {}\nnoop._name = 'react_rating_noop';\n\nexport default noop;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Style from './utils/style';\nimport Rating from './Rating';\nimport noop from './utils/noop';\n\nclass RatingAPILayer extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: props.initialRating\n    };\n    this.handleClick = this.handleClick.bind(this);\n    this.handleHover = this.handleHover.bind(this);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    this.setState({\n      value: nextProps.initialRating\n    });\n  }\n\n  handleClick(value, e) {\n    const newValue = this.translateDisplayValueToValue(value);\n    this.props.onClick(newValue);\n    // Avoid calling setState if not necessary. Micro optimisation.\n    if (this.state.value !== newValue) {\n      // If we have a new value trigger onChange callback.\n      this.setState({\n        value: newValue\n      }, () => this.props.onChange(this.state.value));\n    }\n  }\n\n  handleHover(displayValue) {\n    const value = displayValue === undefined\n      ? displayValue\n      : this.translateDisplayValueToValue(displayValue);\n    this.props.onHover(value);\n  }\n\n  translateDisplayValueToValue(displayValue) {\n    const translatedValue = displayValue * this.props.step + this.props.start;\n    // minimum value cannot be equal to start, since it's exclusive\n    return translatedValue === this.props.start\n      ? translatedValue + 1 / this.props.fractions\n      : translatedValue;\n  }\n\n  tranlateValueToDisplayValue(value) {\n    if (value === undefined) {\n      return 0;\n    }\n    return (value - this.props.start) / this.props.step;\n  }\n\n  render() {\n    const {\n      step,\n      emptySymbol,\n      fullSymbol,\n      placeholderSymbol,\n      readonly,\n      quiet,\n      fractions,\n      direction,\n      start,\n      stop,\n      id,\n      className,\n      style,\n      tabIndex\n    } = this.props;\n\n    function calculateTotalSymbols(start, stop, step) {\n      return Math.floor((stop - start) / step);\n    }\n\n    return (\n      <Rating\n        id={id}\n        style={style}\n        className={className}\n        tabIndex={tabIndex}\n        aria-label={this.props['aria-label']}\n        totalSymbols={calculateTotalSymbols(start, stop, step)}\n        value={this.tranlateValueToDisplayValue(this.state.value)}\n        placeholderValue={this.tranlateValueToDisplayValue(this.props.placeholderRating)}\n        readonly={readonly}\n        quiet={quiet}\n        fractions={fractions}\n        direction={direction}\n        emptySymbol={emptySymbol}\n        fullSymbol={fullSymbol}\n        placeholderSymbol={placeholderSymbol}\n        onClick={this.handleClick}\n        onHover={this.handleHover}\n      />\n    );\n  }\n}\n\nRatingAPILayer.defaultProps = {\n  start: 0,\n  stop: 5,\n  step: 1,\n  readonly: false,\n  quiet: false,\n  fractions: 1,\n  direction: 'ltr',\n  onHover: noop,\n  onClick: noop,\n  onChange: noop,\n  emptySymbol: Style.empty,\n  fullSymbol: Style.full,\n  placeholderSymbol: Style.placeholder\n};\n\n// Define propTypes only in development.\nRatingAPILayer.propTypes = typeof __DEV__ !== 'undefined' && __DEV__ && {\n  start: PropTypes.number,\n  stop: PropTypes.number,\n  step: PropTypes.number,\n  initialRating: PropTypes.number,\n  placeholderRating: PropTypes.number,\n  readonly: PropTypes.bool,\n  quiet: PropTypes.bool,\n  fractions: PropTypes.number,\n  direction: PropTypes.string,\n  emptySymbol: PropTypes.oneOfType([\n    // Array of class names and/or style objects.\n    PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.object, PropTypes.element])),\n    // Class names.\n    PropTypes.string,\n    // Style objects.\n    PropTypes.object,\n    // React element\n    PropTypes.element\n  ]),\n  fullSymbol: PropTypes.oneOfType([\n    // Array of class names and/or style objects.\n    PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.object, PropTypes.element])),\n    // Class names.\n    PropTypes.string,\n    // Style objects.\n    PropTypes.object,\n    // React element\n    PropTypes.element\n  ]),\n  placeholderSymbol: PropTypes.oneOfType([\n    // Array of class names and/or style objects.\n    PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.object, PropTypes.element])),\n    // Class names.\n    PropTypes.string,\n    // Style objects.\n    PropTypes.object,\n    // React element\n    PropTypes.element\n  ]),\n  onHover: PropTypes.func,\n  onClick: PropTypes.func,\n  onChange: PropTypes.func\n};\n\nexport default RatingAPILayer;\n"],"names":["style","display","borderRadius","border","width","height","empty","_objectSpread","backgroundColor","full","placeholder","_iconNode","icon","React","isValidElement","_typeof","createElement","Object","prototype","toString","call","className","RatingSymbol","_React$PureComponent","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","key","value","render","_iconContainerStyle","_this$props","props","index","inactiveIcon","activeIcon","percent","direction","readonly","onClick","onMouseMove","onTouchEnd","backgroundNode","showbgIcon","bgIconContainerStyle","visibility","iconNode","iconContainerStyle","position","overflow","top","_defineProperty","concat","cursor","handleMouseMove","e","handleMouseClick","preventDefault","handleTouchEnd","onTouchMove","PureComponent","Rating","_this","state","displayValue","interacting","onMouseLeave","bind","_assertThisInitialized","symbolMouseMove","symbolClick","symbolEnd","componentDidUpdate","prevProps","prevState","setState","onHover","symbolIndex","event","quiet","calculateDisplayValue","percentage","calculateHoverPercentage","fraction","Math","ceil","fractions","precision","pow","floor","totalSymbols","clientX","nativeEvent","type","indexOf","changedTouches","touches","targetRect","target","getBoundingClientRect","delta","right","left","placeholderValue","emptySymbol","fullSymbol","placeholderSymbol","id","tabIndex","_this$state","symbolNodes","shouldDisplayPlaceholder","renderedValue","fullSymbols","i","push","_Symbol","_extends","length","noop","_name","RatingAPILayer","initialRating","handleClick","handleHover","UNSAFE_componentWillReceiveProps","nextProps","_this2","newValue","translateDisplayValueToValue","onChange","undefined","translatedValue","step","start","tranlateValueToDisplayValue","stop","calculateTotalSymbols","placeholderRating","defaultProps","Style"],"mappings":"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"}